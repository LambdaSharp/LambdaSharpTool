Module: TestModule
Description: LambdaSharp CloudFormation Test

Inputs:

  # Plain Input Parameters
  - Parameter: InputParameter
    Section: Plain Input Parameters
    Description: required input parameter

  - Parameter: InputParameterWithDefault
    Section: Plain Input Parameters
    Description: input parameter with a default value
    Default: a default value

  - Parameter: SecretInputParameter
    Type: Secret
    Section: Plain Input Parameters
    Description: encrypted input parameter


  # Cross-module references
  - Import: OtherModule::ExportValue
    Section: Cross-Module References
    Description: cross-module import reference

  - Import: OtherModule::ExportSecret
    Type: Secret
    Section: Cross-Module References
    Description: cross-module import reference
    Scope: "*"


  # Resource Input Parameters
  - Parameter: ResourceInputParameter
    Section: Resource Input Parameters
    Scope: "*"
    Resource:
      Type: AWS::S3::Bucket
      Allow: ReadOnly

  - Parameter: ResourceInputParameterOrCreate
    Section: Resource Input Parameters
    Scope: "*"
    Default: ""
    Resource:
      Type: AWS::SNS::Topic
      Allow: Publish

  - Import: OtherModule::ExportResource
    Section: Resource Input Parameters
    Scope: "*"
    Resource:
      Type: AWS::DynamoDB::Table
      Allow: ReadOnly

Variables:

  - Var: Input
    Scope: "*"
    Value: !Ref InputParameter

  - Var: InputWithDefault
    Scope: "*"
    Value: !Ref InputParameterWithDefault

  - Var: SecretInput
    Scope: "*"
    Value: !Ref SecretInputParameter

  - Var: ImportedInput
    Scope: "*"
    Value: !Ref OtherModule::ExportValue

  - Var: HiddenImportParameter
    Scope: "*"
    Value: !Ref LambdaSharp::LoggingStreamArn

Functions:

  - Function: Function
    Description: My function
    Memory: 128
    Timeout: 30

