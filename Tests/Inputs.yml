Name: TestModule

Description: LambdaSharp CloudFormation Test

Inputs:

  # Plain Input Parameters
  - Input: InputParameter
    Section: Plain Input Parameters
    Scope: Module
    Description: required input parameter

  - Input: InputParameterWithDefault
    Section: Plain Input Parameters
    Description: input parameter with a default value
    Scope: Module
    Default: a default value

  - Input: SecretInputParameter
    Type: Secret
    Section: Plain Input Parameters
    Scope: Module
    Description: encrypted input parameter


  # Cross-module references
  - Import: OtherModule::ExportValue
    Section: Cross-Module References
    Scope: Module
    Description: cross-module import reference

  - Import: OtherModule::ExportSecret
    Type: Secret
    Section: Cross-Module References
    Description: cross-module import reference

  # Resource Input Parameters
  - Input: ResourceInputParameter
    Section: Resource Input Parameters
    Resource:
      Type: AWS::S3::Bucket
      Allow: ReadOnly

  - Input: ResourceInputParameterOrCreate
    Section: Resource Input Parameters
    Default: ""
    Resource:
      Type: AWS::SNS::Topic
      Allow: Publish

  - Import: OtherModule::ExportResource
    Section: Resource Input Parameters
    Resource:
      Type: AWS::DynamoDB::Table
      Allow: ReadOnly

Parameters:

  - Name: Input
    Value: !Ref InputParameter

  - Name: InputWithDefault
    Value: !Ref InputParameterWithDefault

  - Name: SecretInput
    Value: !Ref SecretInputParameter

  - Name: ImportedInput
    Value: !Ref OtherModule::ExportValue

  - Name: HiddenImportParameter
    Value: !Ref LambdaSharp::LoggingStreamArn

Functions:

  - Name: Function
    Description: My function
    Memory: 128
    Timeout: 30

