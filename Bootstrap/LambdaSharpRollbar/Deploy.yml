Version: "2018-07-04"

Name: LambdaSharpRollbar

Description: LambdaSharp's custom resource handler for Rollbar resources

# Secrets:
#   - ...

Parameters:

  - Name: RollbarToken
    Description: Rollbar project for custom resource handler
    Secret: ...

  - Name: ReadAccessToken
    Description: Account-level token for read operations
    Secret: ...

  - Name: WriteAccessToken
    Description: Account-level token for write operations
    Secret: ...

  - Name: RollbarProjectCustomResourceTopic
    Description: Custom resource topic for Rollbar projects
    Export: /{{Deployment}}/LambdaSharp/RollbarProjectCustomResourceTopic
    Resource:
      Type: AWS::SNS::Topic
      Allow: Subscribe

Functions:

  - Name: ResourceHandler
    Description: Handle custom Rollbar resource requests to create, update, and delete projects
    Memory: 128
    Timeout: 30
    Sources:
      - Topic: RollbarProjectCustomResourceTopic
